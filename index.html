<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Trading Suite - H·ªá Th·ªëng T√≠n Hi·ªáu AI</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <!-- Auth Screen -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-container">
            <div class="logo-3d">
                <div class="logo-cube">
                    <div class="cube-face front">Q</div>
                    <div class="cube-face back">T</div>
                    <div class="cube-face right">S</div>
                    <div class="cube-face left">A</div>
                    <div class="cube-face top">I</div>
                    <div class="cube-face bottom">‚úì</div>
                </div>
            </div>
            <h1 class="auth-title">Quantum Trading Suite</h1>
            <p class="auth-subtitle">H·ªá Th·ªëng T√≠n Hi·ªáu AI Chuy√™n Nghi·ªáp</p>
            <div class="auth-form">
                <input type="password" id="keyInput" placeholder="Nh·∫≠p Key ƒë·ªÉ truy c·∫≠p..." class="key-input">
                <button id="loginBtn" class="btn-login">
                    <span class="btn-text">ƒêƒÉng Nh·∫≠p</span>
                    <span class="btn-shine"></span>
                </button>
                <p class="auth-footer">Li√™n h·ªá admin ƒë·ªÉ nh·∫≠n key truy c·∫≠p</p>
            </div>
        </div>
        <div class="particles" id="particles"></div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="main-app" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-container">
                <div class="header-left">
                    <button class="menu-toggle" id="menuToggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <div class="logo-header">
                        <div class="logo-icon-header">Q</div>
                        <div class="logo-text-header">
                            <h2>Quantum Trading</h2>
                            <p>AI-Powered Signals</p>
                        </div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="status-indicator">
                        <span class="status-dot active"></span>
                        <span class="status-text">ƒêang qu√©t th·ªã tr∆∞·ªùng...</span>
                    </div>
                    <div class="user-info">
                        <span id="userRole">User</span>
                        <button id="logoutBtn" class="btn-logout">ƒêƒÉng xu·∫•t</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar Menu -->
        <aside class="sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <a href="#signals" class="nav-item active" data-page="signals">
                    <i class="icon">üìä</i>
                    <span>T√≠n Hi·ªáu</span>
                </a>
                <a href="#statistics" class="nav-item" data-page="statistics">
                    <i class="icon">üìà</i>
                    <span>Th·ªëng K√™</span>
                </a>
                <a href="#permissions" class="nav-item admin-only" data-page="permissions" style="display: none;">
                    <i class="icon">üîë</i>
                    <span>Quy·ªÅn H·∫°n</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <div class="contact-info">
                    <h4>Li√™n H·ªá Admin</h4>
                    <a href="https://m.facebook.com/bang.nguyen.17040/" target="_blank" class="contact-link">
                        <i>üìò</i> B·∫±ng Nguy·ªÖn
                    </a>
                    <a href="https://t.me/HOANGDUNGG789" target="_blank" class="contact-link">
                        <i>‚úàÔ∏è</i> @HOANGDUNGG789
                    </a>
                </div>
                <p class="copyright">¬© B·∫£n quy·ªÅn thu·ªôc v·ªÅ B·∫±ng Nguy·ªÖn</p>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Signals Page -->
            <section id="signalsPage" class="page active">
                <div class="page-header">
                    <h1 class="page-title">T√≠n Hi·ªáu Giao D·ªãch</h1>
                    <div class="page-actions">
                        <button id="refreshSignals" class="btn-icon">
                            <i>üîÑ</i>
                        </button>
                        <button id="addManualSignal" class="btn-primary admin-only" style="display: none;">
                            <i>‚ûï</i> Th√™m T√≠n Hi·ªáu
                        </button>
                    </div>
                </div>

                <!-- Summary Cards -->
                <div class="summary-cards">
                    <div class="summary-card card-blue">
                        <div class="card-icon">üìä</div>
                        <div class="card-content">
                            <h3 id="totalSignalsToday">0</h3>
                            <p>T√≠n Hi·ªáu H√¥m Nay</p>
                        </div>
                    </div>
                    <div class="summary-card card-green">
                        <div class="card-icon">‚úÖ</div>
                        <div class="card-content">
                            <h3 id="winSignalsToday">0</h3>
                            <p>T√≠n Hi·ªáu Th·∫Øng</p>
                        </div>
                    </div>
                    <div class="summary-card card-red">
                        <div class="card-icon">‚ùå</div>
                        <div class="card-content">
                            <h3 id="loseSignalsToday">0</h3>
                            <p>T√≠n Hi·ªáu Thua</p>
                        </div>
                    </div>
                    <div class="summary-card card-purple">
                        <div class="card-icon">üí∞</div>
                        <div class="card-content">
                            <h3 id="profitToday">0%</h3>
                            <p>L·ª£i Nhu·∫≠n H√¥m Nay</p>
                        </div>
                    </div>
                </div>

                <!-- Active Signals Table -->
                <div class="signals-section">
                    <h2 class="section-title">T√≠n Hi·ªáu ƒêang Ho·∫°t ƒê·ªông</h2>
                    <div class="table-container">
                        <table class="signals-table" id="activeSignalsTable">
                            <thead>
                                <tr>
                                    <th>Th·ªùi Gian</th>
                                    <th>Coin</th>
                                    <th>H∆∞·ªõng</th>
                                    <th>Entry</th>
                                    <th>TP</th>
                                    <th>SL</th>
                                    <th>RR</th>
                                    <th>L√Ω Do</th>
                                    <th>Tr·∫°ng Th√°i</th>
                                    <th class="admin-only" style="display: none;">H√†nh ƒê·ªông</th>
                                </tr>
                            </thead>
                            <tbody id="activeSignalsBody">
                                <tr class="no-data">
                                    <td colspan="10">ƒêang ch·ªù t√≠n hi·ªáu...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Completed Signals -->
                <div class="signals-section">
                    <h2 class="section-title">T√≠n Hi·ªáu ƒê√£ K·∫øt Th√∫c H√¥m Nay</h2>
                    <div class="table-container">
                        <table class="signals-table" id="completedSignalsTable">
                            <thead>
                                <tr>
                                    <th>Th·ªùi Gian</th>
                                    <th>Coin</th>
                                    <th>H∆∞·ªõng</th>
                                    <th>Entry</th>
                                    <th>Exit</th>
                                    <th>RR</th>
                                    <th>L·ª£i Nhu·∫≠n</th>
                                    <th>K·∫øt Qu·∫£</th>
                                </tr>
                            </thead>
                            <tbody id="completedSignalsBody">
                                <tr class="no-data">
                                    <td colspan="8">Ch∆∞a c√≥ t√≠n hi·ªáu n√†o ho√†n th√†nh</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Statistics Page -->
            <section id="statisticsPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Th·ªëng K√™ Chi Ti·∫øt</h1>
                    <div class="time-filter">
                        <button class="filter-btn active" data-period="day">H√¥m Nay</button>
                        <button class="filter-btn" data-period="week">Tu·∫ßn N√†y</button>
                        <button class="filter-btn" data-period="month">Th√°ng N√†y</button>
                    </div>
                </div>

                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>T·ªïng T√≠n Hi·ªáu</h3>
                        <p class="stat-value" id="statTotalSignals">0</p>
                        <div class="stat-chart" id="totalSignalsChart"></div>
                    </div>
                    <div class="stat-card">
                        <h3>T·ª∑ L·ªá Th·∫Øng</h3>
                        <p class="stat-value stat-success" id="statWinRate">0%</p>
                        <div class="progress-ring" id="winRateRing"></div>
                    </div>
                    <div class="stat-card">
                        <h3>L·ª£i Nhu·∫≠n Trung B√¨nh</h3>
                        <p class="stat-value stat-profit" id="statAvgProfit">0%</p>
                        <div class="stat-chart" id="avgProfitChart"></div>
                    </div>
                    <div class="stat-card">
                        <h3>RR Trung B√¨nh</h3>
                        <p class="stat-value" id="statAvgRR">0:1</p>
                        <div class="stat-chart" id="avgRRChart"></div>
                    </div>
                </div>

                <!-- Weekly Summary -->
                <div class="weekly-summary">
                    <h2 class="section-title">T·ªïng K·∫øt Tu·∫ßn</h2>
                    <div class="summary-table-container">
                        <table class="summary-table">
                            <thead>
                                <tr>
                                    <th>Ng√†y</th>
                                    <th>T√≠n Hi·ªáu</th>
                                    <th>Th·∫Øng</th>
                                    <th>Thua</th>
                                    <th>T·ª∑ L·ªá</th>
                                    <th>L·ª£i Nhu·∫≠n</th>
                                </tr>
                            </thead>
                            <tbody id="weeklySummaryBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Permissions Page (Admin Only) -->
            <section id="permissionsPage" class="page admin-only" style="display: none;">
                <div class="page-header">
                    <h1 class="page-title">Qu·∫£n L√Ω Quy·ªÅn H·∫°n</h1>
                </div>

                <!-- Key Management -->
                <div class="permission-section">
                    <h2 class="section-title">T·∫°o Key Truy C·∫≠p</h2>
                    <div class="key-creation-form">
                        <div class="form-group">
                            <label>Lo·∫°i Key:</label>
                            <select id="keyType">
                                <option value="week">1 Tu·∫ßn</option>
                                <option value="month">1 Th√°ng</option>
                                <option value="3months">3 Th√°ng</option>
                                <option value="forever">Vƒ©nh Vi·ªÖn</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Key T√πy Ch·ªânh (ƒë·ªÉ tr·ªëng ƒë·ªÉ t·ª± ƒë·ªông):</label>
                            <input type="text" id="customKey" placeholder="Nh·∫≠p key ho·∫∑c ƒë·ªÉ tr·ªëng">
                        </div>
                        <button id="generateKeyBtn" class="btn-primary">T·∫°o Key</button>
                    </div>
                    <div class="keys-list" id="keysList"></div>
                </div>

                <!-- Manual Signal -->
                <div class="permission-section">
                    <h2 class="section-title">G·ª≠i T√≠n Hi·ªáu Th·ªß C√¥ng</h2>
                    <div class="manual-signal-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Coin:</label>
                                <input type="text" id="manualCoin" placeholder="BTCUSDT">
                            </div>
                            <div class="form-group">
                                <label>H∆∞·ªõng:</label>
                                <select id="manualDirection">
                                    <option value="LONG">LONG</option>
                                    <option value="SHORT">SHORT</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Entry:</label>
                                <input type="number" id="manualEntry" placeholder="0.00" step="0.01">
                            </div>
                            <div class="form-group">
                                <label>TP:</label>
                                <input type="number" id="manualTP" placeholder="0.00" step="0.01">
                            </div>
                            <div class="form-group">
                                <label>SL:</label>
                                <input type="number" id="manualSL" placeholder="0.00" step="0.01">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>L√Ω Do:</label>
                            <textarea id="manualReason" placeholder="L√Ω do v√†o l·ªánh..."></textarea>
                        </div>
                        <button id="sendManualSignalBtn" class="btn-primary">G·ª≠i T√≠n Hi·ªáu</button>
                    </div>
                </div>

                <!-- Admin Management -->
                <div class="permission-section">
                    <h2 class="section-title">Qu·∫£n L√Ω Admin</h2>
                    <div class="admin-form">
                        <div class="form-group">
                            <label>Key Admin M·ªõi:</label>
                            <input type="text" id="newAdminKey" placeholder="Nh·∫≠p key admin">
                        </div>
                        <button id="addAdminBtn" class="btn-primary">Th√™m Admin</button>
                    </div>
                    <div class="admins-list" id="adminsList"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Manual Signal Modal -->
    <div id="manualSignalModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Th√™m T√≠n Hi·ªáu Th·ªß C√¥ng</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Coin:</label>
                    <input type="text" id="modalCoin" placeholder="BTCUSDT">
                </div>
                <div class="form-group">
                    <label>H∆∞·ªõng:</label>
                    <select id="modalDirection">
                        <option value="LONG">LONG</option>
                        <option value="SHORT">SHORT</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Entry:</label>
                    <input type="number" id="modalEntry" placeholder="0.00" step="0.01">
                </div>
                <div class="form-group">
                    <label>TP:</label>
                    <input type="number" id="modalTP" placeholder="0.00" step="0.01">
                </div>
                <div class="form-group">
                    <label>SL:</label>
                    <input type="number" id="modalSL" placeholder="0.00" step="0.01">
                </div>
                <div class="form-group">
                    <label>L√Ω Do:</label>
                    <textarea id="modalReason" placeholder="L√Ω do v√†o l·ªánh..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary modal-cancel">H·ªßy</button>
                <button class="btn-primary modal-submit">G·ª≠i T√≠n Hi·ªáu</button>
            </div>
        </div>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/analysis.js"></script>
    <script src="js/signals.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
